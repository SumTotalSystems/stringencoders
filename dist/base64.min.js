/*
 * Copyright (c) 2010 Nick Galbreath
 * http://code.google.com/p/stringencoders/source/browse/#svn/trunk/javascript
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
/*
 * Additional edits made by Michael Gardner.
 *
 * Copyright (c) 2016 SumTotal Systems, LLC
 * http://code.google.com/p/stringencoders/source/browse/#svn/trunk/javascript
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */
!function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.base64=e()}(this,function(){var t={};return t.PADCHAR="=",t.ALPHA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.makeDOMException=function(){try{return new DOMException(DOMException.INVALID_CHARACTER_ERR)}catch(t){var e=new Error("DOM Exception 5");return e.code=e.number=5,e.name=e.description="INVALID_CHARACTER_ERR",e.toString=function(){return"Error: "+e.name+": "+e.message},e}},t.getbyte64=function(e,r){var n=t.ALPHA.indexOf(e.charAt(r));if(-1===n)throw t.makeDOMException();return n},t.decode=function(e){e=""+e;var r,n,o,a=t.getbyte64,c=e.length;if(0===c)return e;if(c%4!==0)throw t.makeDOMException();r=0,e.charAt(c-1)===t.PADCHAR&&(r=1,e.charAt(c-2)===t.PADCHAR&&(r=2),c-=4);var h=[];for(n=0;c>n;n+=4)o=a(e,n)<<18|a(e,n+1)<<12|a(e,n+2)<<6|a(e,n+3),h.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(r){case 1:o=a(e,n)<<18|a(e,n+1)<<12|a(e,n+2)<<6,h.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=a(e,n)<<18|a(e,n+1)<<12,h.push(String.fromCharCode(o>>16))}return h.join("")},t.getbyte=function(e,r){var n=e.charCodeAt(r);if(n>255)throw t.makeDOMException();return n},t.encode=function(e){if(1!==arguments.length)throw new SyntaxError("Not enough arguments");var r,n,o=t.PADCHAR,a=t.ALPHA,c=t.getbyte,h=[];e=""+e;var i=e.length-e.length%3;if(0===e.length)return e;for(r=0;i>r;r+=3)n=c(e,r)<<16|c(e,r+1)<<8|c(e,r+2),h.push(a.charAt(n>>18)),h.push(a.charAt(n>>12&63)),h.push(a.charAt(n>>6&63)),h.push(a.charAt(63&n));switch(e.length-i){case 1:n=c(e,r)<<16,h.push(a.charAt(n>>18)+a.charAt(n>>12&63)+o+o);break;case 2:n=c(e,r)<<16|c(e,r+1)<<8,h.push(a.charAt(n>>18)+a.charAt(n>>12&63)+a.charAt(n>>6&63)+o)}return h.join("")},t});